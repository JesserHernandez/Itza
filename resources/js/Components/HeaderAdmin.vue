<script setup>
import { ref } from "vue";
import { router } from "@inertiajs/vue3";
import NavLink from "./NavLink.vue";
import Dropdown from "./Dropdown.vue";
import DropdownLink from "./DropdownLink.vue";

defineProps({
    title: String,
    icon: String,
    text: String,
    paragraph: String,
    showTitle: {
        type: Boolean,
        default: true,
    },
});



const logout = () => {
    router.post(route("logout"));
};
</script>

<template>
    <div class="header-admin">
        <div class="title-header-admin">
            <img :src="icon" alt="" />
            <h1>{{ title }}</h1>
        </div>

        <section class="actions-header-admin">
            <!-- <div class="items">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="20"
                    viewBox="0 0 16 20"
                    fill="none"
                >
                    <path
                        d="M0 17L0 15H2L2 8C2 6.61667 2.41667 5.39167 3.25 4.325C4.08333 3.24167 5.16667 2.53333 6.5 2.2L6.5 1.5C6.5 1.08333 6.64167 0.733333 6.925 0.449999C7.225 0.15 7.58333 0 8 0C8.41667 0 8.76667 0.15 9.05 0.449999C9.35 0.733333 9.5 1.08333 9.5 1.5V2.2C10.8333 2.53333 11.9167 3.24167 12.75 4.325C13.5833 5.39167 14 6.61667 14 8L14 15H16L16 17L0 17ZM8 20C7.45 20 6.975 19.8083 6.575 19.425C6.19167 19.025 6 18.55 6 18L10 18C10 18.55 9.8 19.025 9.4 19.425C9.01667 19.8083 8.55 20 8 20ZM4 15L12 15L12 8C12 6.9 11.6083 5.95833 10.825 5.175C10.0417 4.39167 9.1 4 8 4C6.9 4 5.95833 4.39167 5.175 5.175C4.39167 5.95833 4 6.9 4 8L4 15Z"
                        fill="#555555"
                    />
                </svg>
                <span>Notificaciones</span>
            </div> -->

            <!-- <div class="items">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                >
                    <path
                        d="M2 22L2 4C2 3.45 2.19583 2.97917 2.5875 2.5875C2.97917 2.19583 3.45 2 4 2L20 2C20.55 2 21.0208 2.19583 21.4125 2.5875C21.8042 2.97917 22 3.45 22 4L22 16C22 16.55 21.8042 17.0208 21.4125 17.4125C21.0208 17.8042 20.55 18 20 18L6 18L2 22ZM5.15 16L20 16L20 4L4 4L4 17.125L5.15 16Z"
                        fill="#6A6A6A"
                    />
                </svg>
                <span>Chats</span>
            </div> -->

            <Dropdown>
                <template #trigger>
                    <div class="items">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="24"
                            height="24"
                            viewBox="0 0 24 24"
                            fill="none"
                        >
                            <path
                                d="M16 14C15.1667 14 14.4583 13.7083 13.875 13.125C13.2917 12.5417 13 11.8333 13 11C13 10.1667 13.2917 9.45833 13.875 8.875C14.4583 8.29167 15.1667 8 16 8C16.8333 8 17.5417 8.29167 18.125 8.875C18.7083 9.45833 19 10.1667 19 11C19 11.8333 18.7083 12.5417 18.125 13.125C17.5417 13.7083 16.8333 14 16 14ZM10 20V18.1C10 17.75 10.0833 17.4167 10.25 17.1C10.4167 16.7833 10.65 16.5333 10.95 16.35C11.7 15.9 12.4958 15.5625 13.3375 15.3375C14.1792 15.1125 15.0667 15 16 15C16.9333 15 17.8208 15.1125 18.6625 15.3375C19.5042 15.5625 20.3 15.9 21.05 16.35C21.35 16.5333 21.5833 16.7833 21.75 17.1C21.9167 17.4167 22 17.75 22 18.1V20H10ZM12.15 18H19.85C19.2667 17.6667 18.65 17.4167 18 17.25C17.35 17.0833 16.6833 17 16 17C15.3167 17 14.65 17.0833 14 17.25C13.35 17.4167 12.7333 17.6667 12.15 18ZM16 12C16.2833 12 16.5208 11.9042 16.7125 11.7125C16.9042 11.5208 17 11.2833 17 11C17 10.7167 16.9042 10.4792 16.7125 10.2875C16.5208 10.0958 16.2833 10 16 10C15.7167 10 15.4792 10.0958 15.2875 10.2875C15.0958 10.4792 15 10.7167 15 11C15 11.2833 15.0958 11.5208 15.2875 11.7125C15.4792 11.9042 15.7167 12 16 12ZM3 14V12H11V14H3ZM3 6V4H15V6H3ZM11.1 10H3V8H12C11.7667 8.28333 11.5792 8.59167 11.4375 8.925C11.2958 9.25833 11.1833 9.61667 11.1 10Z"
                                fill="#555555"
                            />
                        </svg>
                        <span>Perfiles</span>
                    </div>
                </template>

                <template #content>
                    <div class="section">
                        <DropdownLink
                            :href="route('profile.show')"
                            class="user-profile"
                        >
                            <img
                                src="/img/avatars/avatar-twentyfour.png"
                                alt=""
                            />
                            <span>Perfil de usuario</span>
                        </DropdownLink>
                        <DropdownLink href="#">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="20"
                                height="18"
                                viewBox="0 0 20 18"
                                fill="none"
                            >
                                <path
                                    d="M19.8985 5.89L18.8485 1.52C18.6285 0.62 17.8485 0 16.9385 0L3.04854 0C2.14854 0 1.35854 0.63 1.14854 1.52L0.0985418 5.89C-0.141458 6.91 0.0785419 7.95 0.718542 8.77C0.798542 8.88 0.908542 8.96 0.998542 9.06L0.998542 16C0.998542 17.1 1.89854 18 2.99854 18L16.9985 18C18.0985 18 18.9985 17.1 18.9985 16V9.06C19.0885 8.97 19.1985 8.88 19.2785 8.78C19.9185 7.96 20.1485 6.91 19.8985 5.89ZM16.9085 1.99L17.9585 6.36C18.0585 6.78 17.9685 7.2 17.7085 7.53C17.5685 7.71 17.2685 8 16.7685 8C16.1585 8 15.6285 7.51 15.5585 6.86L14.9785 2L16.9085 1.99ZM10.9985 2L12.9585 2L13.4985 6.52C13.5485 6.91 13.4285 7.3 13.1685 7.59C12.9485 7.85 12.6285 8 12.2185 8C11.5485 8 10.9985 7.41 10.9985 6.69L10.9985 2ZM6.48854 6.52L7.03854 2L8.99854 2L8.99854 6.69C8.99854 7.41 8.44854 8 7.70854 8C7.36854 8 7.05854 7.85 6.81854 7.59C6.56854 7.3 6.44854 6.91 6.48854 6.52ZM2.03854 6.36L3.04854 2L5.01854 2L4.43854 6.86C4.35854 7.51 3.83854 8 3.22854 8C2.73854 8 2.42854 7.71 2.29854 7.53C2.02854 7.21 1.93854 6.78 2.03854 6.36ZM2.99854 16L2.99854 9.97C3.07854 9.98 3.14854 10 3.22854 10C4.09854 10 4.88854 9.64 5.46854 9.05C6.06854 9.65 6.86854 10 7.77854 10C8.64854 10 9.42854 9.64 10.0085 9.07C10.5985 9.64 11.3985 10 12.2985 10C13.1385 10 13.9385 9.65 14.5385 9.05C15.1185 9.64 15.9085 10 16.7785 10C16.8585 10 16.9285 9.98 17.0085 9.97V16L2.99854 16Z"
                                    fill="#555555"
                                />
                            </svg>
                            <span>Perfil de la tienda</span>
                        </DropdownLink>
                        <DropdownLink href="#">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="16"
                                height="15"
                                viewBox="0 0 16 15"
                                fill="none"
                            >
                                <path
                                    d="M3 15V13H10.1C11.15 13 12.0625 12.6667 12.8375 12C13.6125 11.3333 14 10.5 14 9.5C14 8.5 13.6125 7.66667 12.8375 7C12.0625 6.33333 11.15 6 10.1 6H3.8L6.4 8.6L5 10L0 5L5 0L6.4 1.4L3.8 4H10.1C11.7167 4 13.1042 4.525 14.2625 5.575C15.4208 6.625 16 7.93333 16 9.5C16 11.0667 15.4208 12.375 14.2625 13.425C13.1042 14.475 11.7167 15 10.1 15H3Z"
                                    fill="#1D1B20"
                                />
                            </svg>
                            <span>Salir de administración</span>
                        </DropdownLink>
                        <form action="" @submit.prevent="logout" method="post">
                            <button type="submit" as="button">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="20"
                                    height="18"
                                    viewBox="0 0 20 18"
                                    fill="none"
                                >
                                    <path
                                        d="M5 14L6.41 12.59L3.83 10H14V8L3.83 8L6.41 5.42L5 4L0 9L5 14ZM18 16H10V18H18C19.1 18 20 17.1 20 16V2C20 0.9 19.1 0 18 0H10V2H18V16Z"
                                        fill="#555555"
                                    />
                                </svg>
                                Cerrar sesión
                            </button>
                        </form>
                    </div>
                </template>
            </Dropdown>
        </section>
    </div>

    <div class="text-body">
        <h1 v-if="showTitle">Bienvenido {{ text }}</h1>
        <p>{{ paragraph }}</p>
    </div>
</template>
